# Kedro catalog focused on raw source and serialized outputs

raw_account_data:
  type: kedro_datasets.pandas.ParquetDataset
  filepath: data/01_raw/dataset.parquet
  load_args:
    engine: pyarrow
  save_args:
    engine: pyarrow
    compression: zstd

validated_raw_data:
  type: MemoryDataset

standardized_data:
  type: MemoryDataset

ingestion_metadata:
  type: MemoryDataset

cleaned_data:
  type: MemoryDataset

filtered_data:
  type: MemoryDataset

normalized_data:
  type: MemoryDataset

validated_data_raw:
  type: MemoryDataset

validated_data:
  type: MemoryDataset

feature_data:
  type: MemoryDataset

selected_features:
  type: MemoryDataset

base_table:
  type: MemoryDataset

split_datasets:
  type: MemoryDataset

prepared_datasets:
  type: MemoryDataset

prepared_datasets_mlflow:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: account_tax.datasets.partitioned_parquet.PartitionedParquetDataset
    path: data/05_model_input/prepared_datasets
    filename_suffix: ".parquet"
    load_args:
      engine: pyarrow
    save_args:
      engine: pyarrow
      index: false
  artifact_path: data/prepared_datasets

text_datasets:
  type: MemoryDataset

text_datasets_mlflow:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: account_tax.datasets.partitioned_parquet.PartitionedParquetDataset
    path: data/06_models/text_datasets
    filename_suffix: ".parquet"
    load_args:
      engine: pyarrow
    save_args:
      engine: pyarrow
      index: false
  artifact_path: data/text_datasets

token_length_report:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/token_length_report.json
    save_args:
      indent: 2
  artifact_path: analysis/token_diagnostics

tokenized_datasets:
  type: MemoryDataset

# Training pipeline outputs
tokenization_metadata:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/tokenization_metadata.json
    save_args:
      indent: 2
  artifact_path: metadata/tokenization

base_model:
  type: MemoryDataset

model_metadata:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/model_metadata.json
    save_args:
      indent: 2
  artifact_path: metadata/model

optimized_model:
  type: MemoryDataset

optimization_metadata:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/optimization_metadata.json
    save_args:
      indent: 2
  artifact_path: metadata/optimization

trainer_components:
  type: MemoryDataset

trainer_metadata:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/trainer_metadata.json
    save_args:
      indent: 2
  artifact_path: metadata/trainer

trained_model:
  type: MemoryDataset

training_metrics:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/training_metrics.json
    save_args:
      indent: 2
  artifact_path: metrics/training

training_artifacts:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/training_artifacts.json
    save_args:
      indent: 2
  artifact_path: artifacts/training

evaluation_metrics:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/evaluation_metrics.json
    save_args:
      indent: 2
  artifact_path: metrics/evaluation

evaluation_artifacts:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_datasets.json.JSONDataset
    filepath: data/08_reporting/evaluation_artifacts.json
    save_args:
      indent: 2
  artifact_path: artifacts/evaluation
